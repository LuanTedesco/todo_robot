<div class="input-group mb-3">
  <input type="text" class="form-control" placeholder="Descreva seu robô" aria-label="" aria-describedby="basic-addon1">
  <div class="input-group-prepend">
    <%= link_to "Adicionar robô", new_task_path, "data-controller":"task-modal", class: 'btn btn-primary ' %>
  </div>
</div>
<table class="table table-hover">
  <thead>
    <th></th>
    <th>Titulo</th>
    <th>Data de início</th>
    <th>Data de fim</th>
    <th></th>
  </thead>
  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <td>
          <div class="form-check">
            <%= form_with model: task, class:"form_task " do |f| %>
              <%= f.check_box :finished, class: 'checkbox-toggle form-check-input ml-2' %>
            <% end %>
          </div>
        </td>
        <td class="text-truncate" style="max-width: 300px;"><%= task.tittle %></td>
        <td><%= task.start_date.strftime("%d/%m/%Y") %></td>
        <td><%= task.end_date.strftime("%d/%m/%Y") %></td>
        <td class="text-right">
          <%= link_to "Editar", edit_task_path(task), "data-controller":"task-modal", class: 'btn btn-primary' %>
          <%= link_to "Excluir", task_path(task), method: :delete, class: 'btn btn-danger', data: { turbo_method: :delete, turbo_confirm: 'Deseja realmente excluir?' } %>
        </td>
      </tr>
    <% end %>
    <script src="./task/toggleTask.js"></script>
  </tbody>
</table>
